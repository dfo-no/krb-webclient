import TextField from '@mui/material/TextField';
import theme from '../../../theme';
import Box from '@mui/material/Box';
import Typography from '@mui/material/Typography';
import { makeStyles, Theme } from '@material-ui/core';
import { DFOTextFieldStyleProps } from './DFOTextFieldStyleProps';

interface IProps {
  textField?: any;
  label?: string;
  error?: boolean;
  errorMessage?: string;
}

const useStyles = makeStyles<Theme, DFOTextFieldStyleProps>({
  textFieldContainer: {
    display: 'flex',
    flexDirection: 'column',
    gap: 10
  },
  textField: {
    width: 300,
    border: ({ borderColor }) => `2px solid ${borderColor}`,
    height: '67px'
  }
});

export const DFOTextField = ({
  textField,
  label,
  error,
  errorMessage
}: IProps): React.ReactElement => {
  const borderColor = error
    ? theme.palette.dfoErrorRed.main
    : theme.palette.indigo.main;

  const styles: DFOTextFieldStyleProps = {
    borderColor: borderColor
  };
  const classes = useStyles(styles);

  return (
    <div className={classes.textFieldContainer}>
      <Box component="form" autoComplete="off">
        <TextField
          {...textField}
          InputProps={{
            className: classes.textField
          }}
          error={error}
          value=""
          label={label}
        />
      </Box>
      <Typography variant="textCtrlErrorMessage">{errorMessage}</Typography>
    </div>
  );
};
